<!DOCTYPE html>

<html>
	<head>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Anne Simon | JS Word Guess Game</title>
 <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">		

	</head>
	
	<body>
		<header class="jumbotron">
			<h1>Word Guess Game</h1>
				<div class="lead">
					<p>Welcome! This game mimics the famous <em>Hangman</em> game (minus the hangman image).</p> 
					<p>The theme for this game is <strong>colours of the rainbow</strong>! There are 7 colours of the rainbow, but <strong>this game only reveals 3 colours</strong>, so which colour word would appear? Only one way to find out! Play the game!</p>
					<p><em>Please read the instructions below to learn how to play the game</em>.</p>
				</div>
		</header>

		<section class="container">
  			<div class="card">
  			  <div class="card-header">
  				<h2 class="card-title">Instructions</h2>
  			  </div><!--end card header-->

  			  <div class="card-body card-text">
				
				<p><strong>Note</strong>: The <em>Current Word</em> category below contains underlines that correspond to the number of letters within a word.</p>
				<p>Follow these instructions to begin guessing the word:</p>

				<ol>
					<li>Press any key to guess a letter from the word (note: only lowercase letters allowed)</li>
						<ul>
							<li>If the letter is contained in the word, the letter will appear</li>
							<li>Once you have guessed all letters of the word, you will receive a win (see <strong>Score Keeper</strong> category below).</li>
						</ul><br/>
					<li>Click the <em>Play again</em> button to start a new game.</li>
				</ol>
				
				<p>Enjoy the game!</p>

			  </div><!--end card body-->
			</div><!--end card-->

			<div class="row my-5">
			  <div class="col-md">
				<h3>Current Word</h3>				
					<p>Guess the word: <span id="word"></span></p>
					<div id="colourAppear"></div>
					<br/>
					<button onclick="">Play again</button>

			  </div><!--end col-->

			  <div class="col-md">
				<h3>Score Keeper</h3>
					<ul>
						<li><strong>Wins</strong>: <span id="wins"></span></li>
						<li><strong>Number of guesses remaining</strong>: <span id="numGuesses">7</span></li>
						<li><strong>Letters already pressed</strong>: <span id="keyPressed"></span></li>
					</ul>
			  </div><!--end col-->

		</section>

		<footer>
			<p>Copyright &copy; 2018 | U of T SCS Coding Bootcamp</p>
		</footer>

<script>

			//colours array
			var colours = ["red", "indigo", "green"];

			//randomly chooses a word from the colours array
			var randomColour = colours[Math.floor(Math.random() * colours.length)];

			//if the value of randomColour is red then add three lines
			//otherwise if the value of randomColour is violet or indigo then add 6 lines
			
				if (randomColour==="red") {
					document.querySelector("#word").innerHTML="_ _ _";
				} else if (randomColour==="indigo") {
					document.querySelector("#word").innerHTML="_ _ _ _ _ _";
				} else if (randomColour==="green") {
					document.querySelector("#word").innerHTML="_ _ _ _ _";
				}



			var wins = 0; //initialize score to 0

			var userKeyArrRed = ["_", "_", "_"]; //array to store letters of 'red'
			var userKeyArrIndigo = ["_", "_", "_", "_", "_", "_"]; //store letters of 'indigo'
			var userKeyArrGreen = ["_", "_", "_","_","_"]; //store letters of 'green'

			var userGuessPrev = []; //array to store keys entered by user



			document.onkeyup = function(event) { //determines which key the user pressed

				var userGuess = event.key; //detects the key that user guesses
				userGuessPrev.push(userGuess); //add the key in the userGuessPrev array

				//this function displays keys pressed and uses comma to separate each key
				function joinKeys() {
					document.querySelector("#keyPressed").innerHTML=userGuessPrev.join(", ");
				}

				//take out the correct letter from the userGuessPrev array
				function rightLetter() {
					userGuessPrev.pop(userGuess);
				}
			


				//this function is called after user successfully guesses the word; the function executes a coloured statement (string type)
				function correctGuess(s,c) {
					document.getElementById("colourAppear").innerHTML = s; //statement
					document.getElementById("colourAppear").style.color = c; //colour change
				}				

				
				if (randomColour==="red") {
					switch (userGuess) {
						case "r": 
							userKeyArrRed[0]="r"; 
							document.querySelector("#word").innerHTML=userKeyArrRed.join(" ");
							rightLetter();
							break;
						case "e":
							userKeyArrRed[1]="e"; 
							document.querySelector("#word").innerHTML=userKeyArrRed.join(" ");
							rightLetter();
							break;
						case "d":
							userKeyArrRed[2]="d"; 
							document.querySelector("#word").innerHTML=userKeyArrRed.join(" ");
							rightLetter();
							break;
						default:
							joinKeys();
					}
					if (userKeyArrRed.includes("r") && userKeyArrRed.includes("e") && userKeyArrRed.includes("d")) {
						wins++
						correctGuess("Yes! Red is the first colour of the rainbow","red");							
					} 

				}//end red

				if (randomColour==="indigo") {						
					switch (userGuess) {
						case "i":
							userKeyArrIndigo[0]="i"; 
							userKeyArrIndigo[3]="i"; 
							document.querySelector("#word").innerHTML=userKeyArrIndigo.join(" ");
							rightLetter();
							break;
						case "n":
							userKeyArrIndigo[1]="n"; 
							document.querySelector("#word").innerHTML=userKeyArrIndigo.join(" ");
							rightLetter();
							break;
						case "d":
							userKeyArrIndigo[2]="d"; 
							document.querySelector("#word").innerHTML=userKeyArrIndigo.join(" ");
							rightLetter();
							break;													
						case "g":
							userKeyArrIndigo[4]="g"; 
							document.querySelector("#word").innerHTML=userKeyArrIndigo.join(" ");
							rightLetter();
							break;							
						case "o":
							userKeyArrIndigo[5]="o"; 
							document.querySelector("#word").innerHTML=userKeyArrIndigo.join(" ");
							rightLetter();
							break;
						default:
							joinKeys();
					}

					if (userKeyArrIndigo.includes("i") && userKeyArrIndigo.includes("n") && userKeyArrIndigo.includes("d") && userKeyArrIndigo.includes("g") && userKeyArrIndigo.includes("o")) {
							wins++
							correctGuess("Yes! Indigo is the sixth colour of the rainbow","#4b0082");
						}
				}//end indigo

				if (randomColour==="green") {

					switch (userGuess) {
						case "g":
							userKeyArrGreen[0]="g";
							document.querySelector("#word").innerHTML=userKeyArrGreen.join(" ");
							rightLetter();
							break;
						case "r":
							userKeyArrGreen[1]="r";
							document.querySelector("#word").innerHTML=userKeyArrGreen.join(" ");
							rightLetter();
							break;
						case "e":
							userKeyArrGreen[2]="e";
							userKeyArrGreen[3]="e";
							document.querySelector("#word").innerHTML=userKeyArrGreen.join(" ");
							rightLetter();
							break;
						case "n":
							userKeyArrGreen[4]="n";
							document.querySelector("#word").innerHTML=userKeyArrGreen.join(" ");
							rightLetter();
							break;
						default:
							joinKeys();
					}
					if (userKeyArrGreen.includes("g") && userKeyArrGreen.includes("r") && userKeyArrGreen.includes("e") && userKeyArrGreen.includes("n")) {
							wins++
							correctGuess("Yes! Green is the fourth colour of the rainbow","green");

						}
				}				
						document.querySelector("#wins").innerHTML=wins;	

					var lives = 7;
					var lengthUserGuess = userGuessPrev.length;

					if (lengthUserGuess === 1) {
						document.querySelector("#numGuesses").innerHTML = lives-1;
					}

					if (lengthUserGuess === 2) {
						document.querySelector("#numGuesses").innerHTML = lives-2;
					} 

					if (lengthUserGuess === 3) {
						document.querySelector("#numGuesses").innerHTML = lives-3;
					} 

					if (lengthUserGuess === 4) {
						document.querySelector("#numGuesses").innerHTML = lives-4;
					}

					if (lengthUserGuess === 5) {
						document.querySelector("#numGuesses").innerHTML = lives-5;
					}

					if (lengthUserGuess === 6) {
						document.querySelector("#numGuesses").innerHTML = lives-6;
					}

					if (lengthUserGuess === 7) {
						document.querySelector("#numGuesses").innerHTML = lives-7;
						alert("game over!");
					}										



			} //end function		




		</script>

	</body>
</html>